function trajectory = path2trajectory(path, speed)
    path.set_density(speed);    
    n = length(path.path);
    t = 0:1:n;
    ax = diff(path.path, 1);
    ax = [ax; ax(end, :)];

    ex = zeros(n, 1);
    ey = atan2(ax(:, 1), ax(:, 3));
    ez = atan2(ax(:, 2), ax(:, 1));
    rotm = eul2rotm([ex, ey, ez], "XYZ");
    data = rotm2tform(rotm);
    data(1, 4, :) = path.path(:, 1);
    data(2, 4, :) = path.path(:, 2);
    data(3, 4, :) = path.path(:, 3);
    trajectory = Curves.TrajectoryTrajectory(data, t);
